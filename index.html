<!DOCTYPE html> 
<html>
<head>
<meta charset="utf-8">
<title>Medidor Alcoolico</title>
<link href="jquery.mobile-1.4.5.min.css" rel="stylesheet" type="text/css"/>
<script src="jquery-1.11.2.min.js" ></script>
<script src="jquery.mobile-1.4.5.min.js" ></script>
<script src="script.js" type="text/javascript"></script>
<script>
	document.addEventListener("deviceready", onDeviceReady, false);
	console.log("teste");
	
	var db;
	function onDeviceReady(){
			db = window.openDatabase("medidor", "1.0", "medidor", 2*1024*1024);
			db.transaction(createDb, erroDB, successDB);
		}

	function createDb(tx){
			tx.executeSql('DROP TABLE IF EXISTS BEBIDAS');
			tx.executeSql('CREATE TABLE IF NOT EXISTS BEBIDAS(nome,qtdalcool,litragem)');
		}

	function erroDB(err){
			alert('Problema com o banco de dados' + err.code );
		}

	function successDB(){
			alert('Tudo certo, conectou' );
		}

	function insertDB(tx){
		var _nome = $("[name='nome-bebida']").val();			
		var _qtdalcool = $("[name='qdt-alcool']").val();			
		var _litragem = $("[name='litragem-bebida']").val();		
		var sql = 'INSERT INTO BEBIDAS(nome,qtdalcool,litragem) VALUES(?,?,?)';
		tx.executeSql(sql, [_nome,_qtdalcool,_litragem], sucessQueryDB, erroDB);
		}
		
		var htmlstring="";
	function renderList(){
			var htmlstring = '';
			var len = results.rows.length;		
			for (var i=0; i<len; i++){
				htmlstring += '<li>' + results.rows.item(i).nome + '<li>';
				}
		}
		
	$('#ListView').html(htmlstring);
	$('#ListView').listview('refresh');	
		
	function sucessQueryDB(){
		alert("resultado da query");
		tx.executeSql('SELECT * FROM BEBIDAS', [], renderList, erroDB);
				
		}

	function submitform(){
		alert("no submit");
		db.transaction(insertDB, erroDB);
		$.mobile.changePage("#confirmacaocadastro", {reverse: false, transition:"slide"});
		return false;
		}

</script>





</head> 
<body> 
<!-- Start of first paige -->
<div data-role="page" id="topo">

	<div data-role="header">
		<h1>Medidor alcoolico</h1>
	</div><!-- /header -->

	<div role="main" class="ui-content">
    	<p><a href="#inciarnova">Iniciar bebedeira</a></p>	
	    <p><a href="#listaultimas">Últimas</a></p>
	</div><!-- /content -->

	<div data-role="footer">
		<!-- /conteudo do footer -->
	</div><!-- /footer -->
</div><!-- /page fim pagina topo -->

<!-- Start of second page -->
<div data-role="page" id="inciarnova">

	<div data-role="header">
		<h1>Quase lá...</h1>
	</div><!-- /header -->

	<div role="main" class="ui-content">
		<p>Selecione as bebidas (Max.3)</p>
        <form>
            <fieldset data-role="controlgroup">
                <legend>Bebidas:</legend>
                <input type="checkbox" name="checkbox-v-2a" id="checkbox-v-2a">
                <label for="checkbox-v-2a">Cerveja Brhama 350ml</label>
                <input type="checkbox" name="checkbox-v-2b" id="checkbox-v-2b">
                <label for="checkbox-v-2b">Heiniken 355ml</label>
                <input type="checkbox" name="checkbox-v-2c" id="checkbox-v-2c">
                <label for="checkbox-v-2c">Skol mini 250ml</label>
                <input type="checkbox" name="checkbox-v-2c" id="checkbox-v-2d">
                <label for="checkbox-v-2d">Antartica 350ml</label>
                <input type="checkbox" name="checkbox-v-2c" id="checkbox-v-2e">
                <label for="checkbox-v-2e">Itaipava big 455ml</label>
            </fieldset>
        </form>
        <a href="#bebendo" class="ui-btn ui-btn-inline">Começar</a>
		<p><a href="#topo">voltar</a></p>
		<p><a href="#novabebida">nova bebida</a></p>        
	</div><!-- /content -->

	<div data-role="footer" align="center">
		<p><a href="#topo">voltar</a></p>
	</div><!-- /footer -->
</div><!-- /page fim pagina escolha-->
    
<div data-role="page" id="bebendo">

	<div role="main" class="ui-content">
        <ul data-role="listview" data-count-theme="b" data-inset="true">
            <li><a href="#">Cerveja Brhama 350ml<span class="ui-li-count">12</span></a></li>
            <li><a href="#">Heiniken 355ml <span class="ui-li-count">0</span></a></li>
            <li><a href="#">Skol mini 250ml <span class="ui-li-count">4</span></a></li>
            <li><a href="#">Antartica 350ml <span class="ui-li-count">328</span></a></li>
            <li><a href="#">Itaipava big 455ml <span class="ui-li-count">62</span></a></li>
        </ul>
        <a href="#inciarnova" class="ui-btn ui-btn-inline">voltar</a>
	</div><!-- /content -->

	<div data-role="footer">
		<!-- /conteudo do footer -->
	</div><!-- /footer -->
</div><!-- /fim página bebendo -->



<div data-role="page" id="novabebida">

	<div data-role="header">
		<h1>Medidor alcoolico</h1>
	</div><!-- /header -->

	<div role="main" class="ui-content">
		<p>Nova bebida:</p>
        <form method="post" onSubmit="return submitform()" id="novabebida" data-ajax="false">
    	<input type="text" name="textinput-fc" id="nome-bebida" placeholder="Nome" value="">
    	<input type="text" name="textinput-fc" id="qdt-alcool" placeholder="porcentagem de alcool" value="">
    	<input type="text" name="textinput-fc" id="litragem-bebida" placeholder="litragem da bebida em ml" value="">
			<input type="submit" value="Cadastrar">
		</form>
            <a href="#topo" class="ui-btn ui-btn-inline">voltar</a>
	</div><!-- /content -->

	<div data-role="footer">
		<!-- /conteudo do footer -->
	</div><!-- /footer -->
</div><!-- /page fim pagina nova bebida -->


<div data-role="page" id="confirmacaocadastro">

	<div data-role="header">
		<h1>Medidor alcoolico</h1>
	</div><!-- /header -->

	<div role="main" class="ui-content">
		<p>Nova bebida:</p>
        <ul id="ListView">
        
        </ul>
	</div><!-- /content -->

	<div data-role="footer">
		<!-- /conteudo do footer -->
	</div><!-- /footer -->
</div><!-- /page fim pagina nova bebida -->






    
<div data-role="page" id="listaultimas">
		<h4>Últimas bebedeiras</h4>
		<table data-role="table" id="table-column-toggle" data-mode="columntoggle" 			class="ui-responsive table-stroke">
         <thead>
           <tr>
             <th data-priority="2">Data</th>
             <th>Quantidade de alcool ingerida</th>
           </tr>
         </thead>
         <tbody>
           <tr>
             <th>01/01/2015</th>
             <th>22ml</th>
			</tr>
           <tr>
             <th>02/02/2015</th>
             <th>33ml</th>
			</tr>
           <tr>
             <th>03/03/2015</th>
             <th>44ml</th>
			</tr>
          </tbody>  
        
	<div role="main" class="ui-content">
            <a href="#topo" class="ui-btn ui-btn-inline">voltar</a>

	</div><!-- /content -->
	<div data-role="footer">
	</div><!-- /footer -->
</div><!-- /fim página listaultimas -->
    





    
</body>
</html>












<!--
<div data-role="page" id="page">
	<div data-role="header">
		<h1>#Até cair...</h1>
	</div>
	<div data-role="content">
    	<div align="center">
        	<img src="beer.png">
            <a data-role="button" id="teste" name="teste">Link button</a>
        </div>	
		<ul data-role="listview">
			<li><a href="#page2">Iniciar nova cachaçada</a></li>
            <li><a href="#page3">Últimas chachaçadas</a></li>
		</ul>		
	</div>
	<div data-role="footer">
		<h6>|nogatz|</h6>
	</div>
</div>

<div data-role="page" id="page2">
	<div data-role="header">
		<h1>#cair com oq</h1>
	</div>
    <h6>Escolha a bebida(max. 3):</h6>
	<div data-role="content">
        <table border="1">	
        	<tr>
                <th>Item</th>
                <th>Bebida</th>
            </tr>
        	<tr>
        		<td><input type="checkbox" id="bebida"></td>
                <td>Cerveja</td>
            </tr>    
        	<tr>
        		<td><input type="checkbox" id="bebida2"></td>
                <td>Vinho</td>
            </tr>    
        	<tr>
        		<td><input type="checkbox" id="bebida3"></td>
                <td>Tequila</td>
            </tr>    
        </table>
	<div align="right">
    	<a href="#soma">Comece >>></a>
    </div>


	</div>
	<div data-role="footer" align="center">
		<a href="#page"><h4>Voltar</h4></a>
	</div>
</div>

<div data-role="page" id="page3">
	<div data-role="header">
		<h1>Ultimas..</h1>
	</div>
	<div data-role="content">	
		<ul>
        	<li>01/01/2015 - 40ml</li>
        	<li>02/02/2015 - 50ml</li>
        	<li>03/03/2015 - 60ml</li>
        	<li>04/04/2015 - 70ml</li>                                    
		</ul>

	</div>
	<div data-role="footer" align="center">
		<a href="#page"><h4>Voltar</h4></a>
	</div>
</div>

<div data-role="page" id="soma">
	<div data-role="header">
		<h1>bebendo..</h1>
	</div>
	<div data-role="content">	
        <table border="1">	
        	<tr>
                <th>Até agora</th>
                <th>Somar</th>
            </tr>
        	<tr>
        		<td>3</td>
                <td>+</td>
            </tr>    
        	<tr>
        		<td>0</td>
                <td>+</td>
            </tr>    
        	<tr>
        		<td>2</td>
                <td>+</td>
            </tr>    
        </table>
	</div> 
    <h4>>> Estou bebado, chega! <<< </h4>
	<div data-role="footer" align="center">
		<a href="#page"><h4>Voltar</h4></a>
	</div>
</div>

-->


